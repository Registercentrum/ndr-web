<div class="row">
    <div class="col-md-12">
        <h1 class="Page-title">Söklista</h1>
        <p>
            Välj besöksperiod och andra sökkriterier. En patient visas i tabellen nedan om något besök inom perioden matchar kriterierna.
        </p>


        <div class="MultiFilter">

            <div class="MultiFilter-row MultiFilter-row--header">
                <div class="MultiFilter-row-label">
                    Antal matchande patienter:
                </div>
                <div class="MultiFilter-row-filterKnobs">
                    <div class="col-sm-8 u-noLeftPadding Progressbar">
                        <progressbar value="55"></progressbar>
                    </div>
                </div>
            </div>

            <div class="MultiFilter-row">
                <div class="MultiFilter-row-label">
                    Besöksperiod
                </div>
                <div class="MultiFilter-row-filterKnobs">
                    <div class="FilterDatePopup">
                        <div class="input-group FilterDatePopup-group FilterDatePopup-group--80">
                          <span class="input-group-addon">
                            <button type="button" class="FilterDatePopup-button" ng-click="open($event)"><i class="fa fa-calendar"></i></button>
                          </span>
                            <input type="text" class="FilterDatePopup-input form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />

                          <span class="input-group-addon">
                            <button type="button" class="FilterDatePopup-button" ng-click="open($event)"><i class="fa fa-calendar"></i></button>
                          </span>

                             <input type="text" class="FilterDatePopup-input form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                        </div>
                    </div>
                </div>
            </div>

            <div class="MultiFilter-row">
                <div class="MultiFilter-row-label">
                    Diabetestyp
                </div>
                <div class="MultiFilter-row-filterKnobs">
                    <select name="" class="form-control" ng-model="selectedFilters.diabetesTypes" id="" style="width:50%">
                        <option value="{{ item.id }}" ng-repeat="item in activeFilters.diabetesTypes.options">
                            {{ item.text }}
                        </option>
                    </select>
                </div>
            </div>

            <div class="MultiFilter-row">
                <div class="MultiFilter-row-label">
                    HbA1c
                </div>
                <div class="MultiFilter-row-filterKnobs">

                    <input type="number" ng-model="selectedFilters.hbMin" />

                </div>
            </div>

            <div class="MultiFilter-row">
                <div class="MultiFilter-row-label">
                    Valbar
                </div>
                <div class="MultiFilter-row-filterKnobs">
                </div>
            </div>

            <div class="MultiFilter-row">
                <div class="MultiFilter-row-label">
                    Debug
                </div>
                <div class="MultiFilter-row-filterKnobs">
                    {{ selectedFilters }}
                </div>
            </div>



        </div>


        <table datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" class="table table-striped table-bordered row-border hover">
            <thead>
            <tr>
                <td>Personnummer</td>
                <td>Senaste besök</td>
                <td>Blodtryck</td>
                <td>HbA1c</td>
                <td>Val</td>
            </tr>
            </thead>
            <tbody >

                <tr ng-repeat="subject in model.subjectList">
                    <td>{{ subject[0].subject.socialNumber }}</td>
                    <td>{{ subject[0].lastUpdatedAt | date:'yyyy-MM-dd' }} </td>
                    <td>{{ subject[0].hba1c }}</td>
                    <td>{{ subject[0].bpDiastolic }}</td>

                    <td><a href="#/inloggad/patient/{{ subject[0].subject.socialNumber }}" class="Button Button--info">Visa</a></td>
                </tr>
            </tbody>
        </table>



         <pre>

            {{  activeFilters  | json  }}


            {{  model.subjectList  | json  }}
        </pre>

    </div>
</div>


