<div class="row">
    <div class="col-md-12">
        <h1 class="Page-title">Patientprofil</h1>

       <!--     <div class="PatientSearch pull-right">
                    <span class="PatientSearch-icon">
                        <img src="/images/svgmin/icon_search.svg" class="PatientSearch-icon-img">
                    </span>
                <input class="PatientSearch-input" ng-model="socialnumber" type="search" placeholder="Skriv in personnummer" required
                       ng-pattern="accountHelpers.pnrRegex">
                <button class="PatientSearch-searchButton" ng-click="getSubject(true)" ng-disabled="!subjectForm.$valid">Sök</button>
            </div>
-->

        <div class="PatientHeader clearfix">
            <div class="PatientHeader-personNumber col-md-5 u-noLeftPadding">
                <i class="fa fa-user"></i>  {{ subject.socialNumber }}
            </div>
            <div class="PatientHeader-navigation col-md-7 u-noRightPadding">

               <!-- <select name="" class="form-control pull-right" id="" style="width: 250px">
                    <option value="">Visa / komplettera besök</option>
                </select>-->

                <div class="row">
                    <!--<div class="col-md-6">
                        <a href="#/inloggad/patient/{{ subject.subjectID }}" ng-click="printDiv('printableArea')" class="pull-right Button Button--info Button--dark" ng-click=""><i class="fa fa-print"></i> Skriv ut</a>
                        <a style="margin-right: 10px" href="#/inloggad/patient/{{ subject.subjectID }}" class="pull-right Button Button--info Button--dark" ng-click=""><i class="fa fa-plus-circle"></i> Nytt besök</a>
                    </div>-->

                    <div class="col-md-6"></div>

                    <div class="col-md-6">

                        <div class="btn-group" style="float:right">
                            <label class="btn btn-info" ng-model="model.mode" btn-radio="'visual'" uncheckable><i class="fa fa-area-chart"></i> Profil</label>
                            <label class="btn btn-info" ng-model="model.mode" btn-radio="'table'" uncheckable><i class="fa fa-table"></i> Tabell </label>
                        </div>

                    </div>

                </div>



            </div>
        </div>
    </div>
</div>


<div ng-show="model.mode == 'visual'" class="Profile">

    <div class="row" id="printableArea">
        <div class="col-md-12">

            <div class="Panel Panel--blue InfoGrid clearfix">

                <div class="Panel--profile col-md-4">

                        test
                </div>

                <div class="Panel--profile col-md-4">

                        test
                </div>

                <div class="Panel--profile col-md-4">

                    test
                </div>


             <!--   <div class="InfoGrid-equalHeightsGroup4 InfoGrid-wrapper--width70">

                    <div class="InfoGrid-cellWrapper">

                        <div class="InfoGrid-cell InfoGrid-wrapper--width70 InfoGrid-equalHeightsGroup1">
                            <div class="InfoGrid-cell-inner">

                                <b>{{ subject.socialNumber }}</b>
                                <br>
                                {{ "Man, " + calculateAge(subject.dateOfBirth) }} år gammal
                                <br/>
                                Typ: {{ getDiabetesType(subject.diabetesType) }}
                                <br/>
                                Debutår: {{ subject.yearOfOnset }}
                                <br/>
                                Diabetesbehandling: {{ model.latest.treatment.label }}

                            </div>
                        </div>

                        <div class="InfoGrid-wrapper--width30 InfoGrid-equalHeightsGroup1 InfoGrid-cellGroup">
                            <div class="InfoGrid-cell"></div>
                            <div class="InfoGrid-cell"> </div>
                        </div>
                    </div>

                    <div class="InfoGrid-cellWrapper">
                        <div class="InfoGrid-cell InfoGrid-equalHeightsGroup2 InfoGrid-wrapper--width70">
                            <div class="InfoGrid-cell-inner">
                                <h4>HbA1c trend</h4>
                                <div class="" line-chart-patient-hba1c model="model.data.lineChartHba1c"></div>

                            </div>
                        </div>

                        <div class="InfoGrid-equalHeightsGroup2 InfoGrid-wrapper--width30 InfoGrid-cellGroup">
                            <div class="InfoGrid-cell">&lt;!&ndash;[ INFOGRID CELL: BLOOD PRESSURE ]&ndash;&gt;</div>
                            <div class="InfoGrid-cell">&lt;!&ndash;[ INFOGRID CELL: EXERCISE ]&ndash;&gt;</div>
                        </div>
                    </div>

                    <div class="InfoGrid-cellWrapper">
                        <div class="InfoGrid-cell InfoGrid-equalHeightsGroup3 InfoGrid-wrapper--width70">
                            <div class="InfoGrid-cell-inner">
                                    <div class="text-center pull-left" style="width:200px">
                                        <h2 title="Dag av besöket {{ model.latest.bmi.date | date: 'dd MM yyyy' }}">{{ model.latest.bmi.value }}</h2>
                                        <h4>BMI</h4>
                                    </div>

                                <div class="text-center pull-left" style="width:200px">
                                    <h2 title="Dag av besöket {{ model.latest.weight.date | date: 'dd MM yyyy' }}">{{ model.latest.weight.value }} kg</h2>
                                    <h4>Vikt</h4>
                                </div>


                            </div>
                        </div>
                        <div class="InfoGrid-equalHeightsGroup3 InfoGrid-wrapper--width30 InfoGrid-cellGroup">
                            <div class="InfoGrid-cell">&lt;!&ndash;[ INFOGRID CELL: {{ "67 kg" }} ]&ndash;&gt;</div>
                        </div>
                    </div>

                </div>


                <div class="InfoGrid-cell InfoGrid-equalHeightsGroup4 InfoGrid-wrapper--width30">
                    <div class="InfoGrid-cell-inner">
                       <h4>Fysisk aktivetet m.m.</h4>
                    </div>
                </div>-->




            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">

            <div class="Panel Panel--green u-equalHeight">
                <h4>Sjukdomar och behandlingar</h4>

                <table class="table">
                    <tr><td>Aspirin</td><td>{{ subject.aspirin.text }}</td></tr>
                    <tr><td>Waran</td><td>{{ subject.waran.text }}</td></tr>
                </table>

            </div>
        </div>


        <div class="col-md-6">

            <div class="Panel Panel--green u-equalHeight">
                <h4>Blodtryck</h4>
                <div class="" line-chart-patient-hba1c model="model.data.lineChartBloodPressure"></div>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-md-4">

            <div class="Panel Panel--purple u-equalHeight">
                <h4>Fysisk aktivitet</h4>
                <div column-chart=""></div>
            </div>
        </div>

        <div class="col-md-4">

            <div class="Panel Panel--purple u-equalHeight">
                <h4>Rökning</h4>
                <div column-chart=""></div>
            </div>
        </div>


        <div class="col-md-4">

            <div class="Panel Panel--purple u-equalHeight">
                <h4>Kolesterol</h4>
                <div class="" line-chart-patient-hba1c model="model.data.lineChartCholesterol"></div>



            </div>
        </div>

    </div>

    <div class="row">

        <div class="col-md-4">
            <div class="Panel u-equalHeight">
                <h4><img src="images/grunticon/png/icon_foot.png" style="width:15px;margin-right: 10px" alt=""/>Fötter</h4>
                <table class="table table-condensed table-striped">
                    <tr><td>Riskkategori</td><td>{{ model.latest.footRiscCategory.label }}</td></tr>
                    <tr><td>Senaste fotundersökning </td><td>{{ model.latest.footExaminationDate.label }}</td><td><i class="fa fa-exclamation"></i>
                    </td></tr>
                </table>


            </div>
        </div>

        <div class="col-md-4">

            <div class="Panel u-equalHeight">
                <h4><img src="images/grunticon/png/icon_eye.png" style="width:25px;margin-right: 10px" alt=""/>Ögon</h4>
                <table class="table table-condensed table-striped">
                    <tr><td>Diabetesretinopati</td><td>{{ model.latest.diabeticRetinopathy.label }}</td></tr>
                    <tr><td>Diagnos på sämsta ögat</td><td>{{ model.latest.diagnosisWorseSeeingEye.label  }}</td></tr>
                    <tr><td>Laserbehandlad</td><td>{{ model.latest.laserTreatment.label}}</td></tr>
                    <tr><td>Senaste ögonbottenundersökning</td><td>{{  model.latest.fundusExaminationDate.label }}</td></tr>
                    <tr><td>Synnedsättning p.g.a. diabetes</td><td>{{ model.latest.visualLoss.label  }}</td></tr>
                </table>
            </div>
        </div>


        <div class="col-md-4">

            <div class="Panel u-equalHeight">
                <h4><img src="images/grunticon/png/icon_kidney.png" style="width:20px;margin-right: 10px" alt=""/> Njurar</h4>

                <table class="table table-condensed table-striped">
                    <tr><td>Senaste S-Kreatininvärde</td><td>{{ model.latest.serumCreatinine.label }}</td></tr>
                    <tr><td>Makroalbuminuri</td><td>{{ model.latest.macroscopicProteinuria.label }}</td></tr>
                    <tr ng-hide="model.latest.macroscopicProteinuria.label == 'Ja'"><td>Mikroalbuminuri</td><td>{{ model.latest.microscopicProteinuria.label }}</td></tr>
                </table>

            </div>
        </div>



    </div>


</div>


<div ng-show="model.mode == 'table'" class="Panel">
    <h2>Besök</h2>
    <div class="table-responsive">
        <table style="font-size: 13px" class="Table--fixed table table-striped table-bordered row-border hover visits-table">
            <thead>
                <tr>
                    <th class="key"></th>
                    <th ng-repeat="date in model.data.table['Besöksdatum']">{{ date | date : 'dd MMM yyyy'}}</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="(key, contact) in model.data.table">
                    <td class="key">{{ key }}</td>
                    <td ng-repeat="c in contact track by $index">{{ c }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="Panel">
    <h2>Model</h2>
     <pre>
        {{ model.latest | json }}
    </pre>
<!--
    <h2>Patient data </h2>
                <pre>
                    {{ subject | json }}
                </pre>




        </div>


         <pre>



        {{ serverError }}
        {{  accountModel | json  }}
        </pre>

    </div>-->
</div>

