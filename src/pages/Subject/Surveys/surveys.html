<div class="row">
  <div class="col-md-12">
    <div class="Panel">
      <h1 class="pb4 mb4 bb b--gray">Mina enkäter</h1>
      <div class="row">
        <div class="col-md-offset-2 col-md-8 f2">
          <p class="pb4 b">
            Vårdcentrall #{{ accountModel.subject.invites[0].unitID }} vill att
            du fyller i den här enkäten inför ditt nästa besök.
          </p>
          <p class="pb4 blue">
            Information om hur dina enkätsvar används <i class="fa fa-info-circle"></i>
          </p>
          <p class="pb4 gray">
            Enkäten har två delar. Den första delen handlar om hur du mår och hur
            du har det med din diabetes. Den andra delen handlar om hur diabetesvården
            stödjer dig i att ta hand om din diabetes.
          </p>
          <p class="pb4 gray b">Gör så här</p>
          <p class="pb4 gray">
            Klicka i det svarsalternativ som stämmer bäst överens med din uppfattning.
          </p>
          <p class="pb4 gray">
            De första fem frågorna handlar om hur du har haft det de senaste fyra veckorna.
            Alla andra frågor gäller hur du har det just nu.
          </p>
          <p class="pb6">
            <button
              ng-click="setActiveQuestion(1)"
              class="Button Button--info">
              OK, till första frågan
            </button>
          </p>
        </div>
      </div>
      <div ng-repeat="mainGroup in model.PROMFormMeta">
        <div class="pv4 mv5 f2 b bb bt b--light-gray gray tc">{{ mainGroup.description }}</div>
        <div ng-repeat="group in mainGroup.questiongroups | orderBy: 'sortorder'" class="mb5">
          <div class="f2 light-blue">{{ group.description}}</div>
          <div
            id="question-{{question.questionID}}"
            ng-repeat="question in group.questions"
            class="question-holder pb6 mb6 pl4"
            ng-class="{'o-20': model.activeQuestion !== question.questionID}"
          >
            <h4 class="b gray">{{ $index + 1}}. {{ question.question }}</h4>
            <div class="pl4">
              <div ng-repeat="answer in question.domain.domainValues">
                <label class="pv2 normal silver">
                  <input
                    type="radio"
                    ng-model="model.answers[question.columnName]"
                    name="{{ question.columnName }}"
                    value="{{ answer.code }}"
                    ng-click="handleAnswerChange($event)"
                  />
                  <span class="ml4">{{ answer.text }}</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="fixed cf bottom-0 left-0 right-0">
    <div class="container">
      <div class="row">
        <div class="col-md-offset-2 col-md-10">
          <div class="cf pa4 bg-near-white blue bt b--light-gray">
            <div class="fl">
              {{ model.answersCount }} av {{ model.questionsCount }} frågor besvarade
            </div>
            <div class="fr">
              <button
                ng-click="setActiveQuestion(model.activeQuestion - 1)"
                ng-disabled="model.activeQuestion === 1"
                class="Button Button--info Button--mini">
                <i class="fa fa-arrow-up"></i>
              </button>
              <button
                ng-click="setActiveQuestion(model.activeQuestion + 1)"
                ng-disabled="model.activeQuestion === model.questionsCount"
                class="Button Button--info Button--mini">
                <i class="fa fa-arrow-down"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>